<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>75. Django模板语言之变量 | MSG</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="在追寻技术的同时享受生活">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.d65bef42.js" as="script"><link rel="preload" href="/assets/js/2.2249178e.js" as="script"><link rel="preload" href="/assets/js/148.6d76ac94.js" as="script"><link rel="prefetch" href="/assets/js/10.4785e2e5.js"><link rel="prefetch" href="/assets/js/100.33fceff2.js"><link rel="prefetch" href="/assets/js/101.62e1e5d4.js"><link rel="prefetch" href="/assets/js/102.8551fe71.js"><link rel="prefetch" href="/assets/js/103.47754d79.js"><link rel="prefetch" href="/assets/js/104.4adf114f.js"><link rel="prefetch" href="/assets/js/105.6206a08a.js"><link rel="prefetch" href="/assets/js/106.1c4561f3.js"><link rel="prefetch" href="/assets/js/107.e1531a5a.js"><link rel="prefetch" href="/assets/js/108.c637743a.js"><link rel="prefetch" href="/assets/js/109.3f150913.js"><link rel="prefetch" href="/assets/js/11.bd8ec7a6.js"><link rel="prefetch" href="/assets/js/110.088c1ac3.js"><link rel="prefetch" href="/assets/js/111.66d8d491.js"><link rel="prefetch" href="/assets/js/112.231663ee.js"><link rel="prefetch" href="/assets/js/113.a38bc531.js"><link rel="prefetch" href="/assets/js/114.e165daea.js"><link rel="prefetch" href="/assets/js/115.994b087a.js"><link rel="prefetch" href="/assets/js/116.ea3cfdfb.js"><link rel="prefetch" href="/assets/js/117.7be5e4f3.js"><link rel="prefetch" href="/assets/js/118.ebb58ddb.js"><link rel="prefetch" href="/assets/js/119.90018646.js"><link rel="prefetch" href="/assets/js/12.0d8f43df.js"><link rel="prefetch" href="/assets/js/120.bb5be863.js"><link rel="prefetch" href="/assets/js/121.3d1db670.js"><link rel="prefetch" href="/assets/js/122.d29ed1b2.js"><link rel="prefetch" href="/assets/js/123.38cc4704.js"><link rel="prefetch" href="/assets/js/124.cc8549d4.js"><link rel="prefetch" href="/assets/js/125.6ee3e9c8.js"><link rel="prefetch" href="/assets/js/126.48710eba.js"><link rel="prefetch" href="/assets/js/127.d7a1fd83.js"><link rel="prefetch" href="/assets/js/128.e5017f6b.js"><link rel="prefetch" href="/assets/js/129.4c33e121.js"><link rel="prefetch" href="/assets/js/13.2dbde7aa.js"><link rel="prefetch" href="/assets/js/130.cda66247.js"><link rel="prefetch" href="/assets/js/131.ad76f669.js"><link rel="prefetch" href="/assets/js/132.aca88758.js"><link rel="prefetch" href="/assets/js/133.a1cf5903.js"><link rel="prefetch" href="/assets/js/134.b1386377.js"><link rel="prefetch" href="/assets/js/135.94edcf53.js"><link rel="prefetch" href="/assets/js/136.24be4170.js"><link rel="prefetch" href="/assets/js/137.db57772e.js"><link rel="prefetch" href="/assets/js/138.dc67bcaa.js"><link rel="prefetch" href="/assets/js/139.5453d1f6.js"><link rel="prefetch" href="/assets/js/14.2187dbf4.js"><link rel="prefetch" href="/assets/js/140.938e5c07.js"><link rel="prefetch" href="/assets/js/141.99c7cf2c.js"><link rel="prefetch" href="/assets/js/142.428e3958.js"><link rel="prefetch" href="/assets/js/143.68b01530.js"><link rel="prefetch" href="/assets/js/144.f67389cc.js"><link rel="prefetch" href="/assets/js/145.d952a130.js"><link rel="prefetch" href="/assets/js/146.b933dcad.js"><link rel="prefetch" href="/assets/js/147.2d8e4c0a.js"><link rel="prefetch" href="/assets/js/149.6b4d6378.js"><link rel="prefetch" href="/assets/js/15.a53b356c.js"><link rel="prefetch" href="/assets/js/150.5bf39cb4.js"><link rel="prefetch" href="/assets/js/151.17af677c.js"><link rel="prefetch" href="/assets/js/152.7f1c2792.js"><link rel="prefetch" href="/assets/js/153.98dd0727.js"><link rel="prefetch" href="/assets/js/154.eb44bf23.js"><link rel="prefetch" href="/assets/js/155.5a9840ea.js"><link rel="prefetch" href="/assets/js/156.7ba01fd0.js"><link rel="prefetch" href="/assets/js/157.2296a048.js"><link rel="prefetch" href="/assets/js/158.6bb1f699.js"><link rel="prefetch" href="/assets/js/159.073bb8df.js"><link rel="prefetch" href="/assets/js/16.cef7bf44.js"><link rel="prefetch" href="/assets/js/160.25a837f9.js"><link rel="prefetch" href="/assets/js/161.93d886a1.js"><link rel="prefetch" href="/assets/js/162.5d2714b2.js"><link rel="prefetch" href="/assets/js/17.96f36904.js"><link rel="prefetch" href="/assets/js/18.fd04b310.js"><link rel="prefetch" href="/assets/js/19.3e1377d1.js"><link rel="prefetch" href="/assets/js/20.ac195ac8.js"><link rel="prefetch" href="/assets/js/21.c2d7729c.js"><link rel="prefetch" href="/assets/js/22.dd8c621b.js"><link rel="prefetch" href="/assets/js/23.ad7d0350.js"><link rel="prefetch" href="/assets/js/24.8559c4c3.js"><link rel="prefetch" href="/assets/js/25.783a8116.js"><link rel="prefetch" href="/assets/js/26.25e0e459.js"><link rel="prefetch" href="/assets/js/27.c0616e2a.js"><link rel="prefetch" href="/assets/js/28.30656c2e.js"><link rel="prefetch" href="/assets/js/29.2be5114c.js"><link rel="prefetch" href="/assets/js/3.be8c8f3b.js"><link rel="prefetch" href="/assets/js/30.230a74a7.js"><link rel="prefetch" href="/assets/js/31.760f46ad.js"><link rel="prefetch" href="/assets/js/32.c9533fef.js"><link rel="prefetch" href="/assets/js/33.dcacfb38.js"><link rel="prefetch" href="/assets/js/34.4370a466.js"><link rel="prefetch" href="/assets/js/35.bf299eea.js"><link rel="prefetch" href="/assets/js/36.336e435a.js"><link rel="prefetch" href="/assets/js/37.1d1d2eea.js"><link rel="prefetch" href="/assets/js/38.0d58b7d0.js"><link rel="prefetch" href="/assets/js/39.d43564ba.js"><link rel="prefetch" href="/assets/js/4.4a6cb970.js"><link rel="prefetch" href="/assets/js/40.bc4e4bde.js"><link rel="prefetch" href="/assets/js/41.b71231a5.js"><link rel="prefetch" href="/assets/js/42.9d46f400.js"><link rel="prefetch" href="/assets/js/43.50c5be69.js"><link rel="prefetch" href="/assets/js/44.60406e7f.js"><link rel="prefetch" href="/assets/js/45.ec3569ae.js"><link rel="prefetch" href="/assets/js/46.1bd3ce7b.js"><link rel="prefetch" href="/assets/js/47.1e1b5326.js"><link rel="prefetch" href="/assets/js/48.64c631ea.js"><link rel="prefetch" href="/assets/js/49.b4abacd8.js"><link rel="prefetch" href="/assets/js/5.e6d0b165.js"><link rel="prefetch" href="/assets/js/50.c3e320c0.js"><link rel="prefetch" href="/assets/js/51.5ec7fb8c.js"><link rel="prefetch" href="/assets/js/52.2d234f86.js"><link rel="prefetch" href="/assets/js/53.f3b69623.js"><link rel="prefetch" href="/assets/js/54.c85ff450.js"><link rel="prefetch" href="/assets/js/55.b07597b5.js"><link rel="prefetch" href="/assets/js/56.444129cf.js"><link rel="prefetch" href="/assets/js/57.df1329ba.js"><link rel="prefetch" href="/assets/js/58.5afb51cf.js"><link rel="prefetch" href="/assets/js/59.d98936d9.js"><link rel="prefetch" href="/assets/js/6.809376cd.js"><link rel="prefetch" href="/assets/js/60.02813ecf.js"><link rel="prefetch" href="/assets/js/61.37a4812d.js"><link rel="prefetch" href="/assets/js/62.5da94048.js"><link rel="prefetch" href="/assets/js/63.8e2c2bca.js"><link rel="prefetch" href="/assets/js/64.d290398f.js"><link rel="prefetch" href="/assets/js/65.44e28313.js"><link rel="prefetch" href="/assets/js/66.9acf0206.js"><link rel="prefetch" href="/assets/js/67.85688aa2.js"><link rel="prefetch" href="/assets/js/68.45bda7fc.js"><link rel="prefetch" href="/assets/js/69.9074feb0.js"><link rel="prefetch" href="/assets/js/7.5d7bce6e.js"><link rel="prefetch" href="/assets/js/70.b4cd2ddc.js"><link rel="prefetch" href="/assets/js/71.53219b13.js"><link rel="prefetch" href="/assets/js/72.af2a7290.js"><link rel="prefetch" href="/assets/js/73.c28fc506.js"><link rel="prefetch" href="/assets/js/74.64c81a90.js"><link rel="prefetch" href="/assets/js/75.05191ece.js"><link rel="prefetch" href="/assets/js/76.f516d464.js"><link rel="prefetch" href="/assets/js/77.c345180b.js"><link rel="prefetch" href="/assets/js/78.4a09d0ba.js"><link rel="prefetch" href="/assets/js/79.65f41bcf.js"><link rel="prefetch" href="/assets/js/8.f6cfdc07.js"><link rel="prefetch" href="/assets/js/80.b77151f3.js"><link rel="prefetch" href="/assets/js/81.824fa371.js"><link rel="prefetch" href="/assets/js/82.3f91c09b.js"><link rel="prefetch" href="/assets/js/83.9539f074.js"><link rel="prefetch" href="/assets/js/84.dd89f1de.js"><link rel="prefetch" href="/assets/js/85.15210b99.js"><link rel="prefetch" href="/assets/js/86.e14553e1.js"><link rel="prefetch" href="/assets/js/87.6dc95177.js"><link rel="prefetch" href="/assets/js/88.09c5e890.js"><link rel="prefetch" href="/assets/js/89.0d61f4d0.js"><link rel="prefetch" href="/assets/js/9.759f1986.js"><link rel="prefetch" href="/assets/js/90.a9b14d80.js"><link rel="prefetch" href="/assets/js/91.1a4aabe2.js"><link rel="prefetch" href="/assets/js/92.12070bdb.js"><link rel="prefetch" href="/assets/js/93.b5dc76d0.js"><link rel="prefetch" href="/assets/js/94.690498a6.js"><link rel="prefetch" href="/assets/js/95.b17961e6.js"><link rel="prefetch" href="/assets/js/96.a2f06f3e.js"><link rel="prefetch" href="/assets/js/97.64ef6721.js"><link rel="prefetch" href="/assets/js/98.443eba26.js"><link rel="prefetch" href="/assets/js/99.b6ba7c3a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">MSG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python文档" class="dropdown-title"><span class="title">Python文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="Python文档" class="mobile-dropdown-title"><span class="title">Python文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Python/1.Python-Basics/" class="nav-link">
  Python-基础
</a></li><li class="dropdown-item"><!----> <a href="/Python/2. Python-object/" class="nav-link">
  Python-面向对象
</a></li><li class="dropdown-item"><!----> <a href="/Python/3. Python-module/" class="nav-link">
  Python-模块与包
</a></li><li class="dropdown-item"><!----> <a href="/Python/4. Python-network/" class="nav-link">
  Python-网络
</a></li><li class="dropdown-item"><!----> <a href="/Python/5. Python-frontend/" class="nav-link">
  Python-前端
</a></li><li class="dropdown-item"><!----> <a href="/Python/6. Python-MySQL/" class="nav-link">
  Python-数据库
</a></li><li class="dropdown-item"><!----> <a href="/Python/7. Python-Django/" class="nav-link">
  Python-Django
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="容器文档" class="dropdown-title"><span class="title">容器文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="容器文档" class="mobile-dropdown-title"><span class="title">容器文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Container/docker/" class="nav-link">
  docker文檔
</a></li><li class="dropdown-item"><!----> <a href="/Container/Kubernetes/" class="nav-link">
  Kubernetes文檔
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GO文档" class="dropdown-title"><span class="title">GO文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="GO文档" class="mobile-dropdown-title"><span class="title">GO文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/GO/basics/" class="nav-link">
  GO快速入门
</a></li><li class="dropdown-item"><!----> <a href="/GO/module/" class="nav-link">
  GO标准库/GO模块
</a></li></ul></div></div><div class="nav-item"><a href="https://www.linux91.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python文档" class="dropdown-title"><span class="title">Python文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="Python文档" class="mobile-dropdown-title"><span class="title">Python文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Python/1.Python-Basics/" class="nav-link">
  Python-基础
</a></li><li class="dropdown-item"><!----> <a href="/Python/2. Python-object/" class="nav-link">
  Python-面向对象
</a></li><li class="dropdown-item"><!----> <a href="/Python/3. Python-module/" class="nav-link">
  Python-模块与包
</a></li><li class="dropdown-item"><!----> <a href="/Python/4. Python-network/" class="nav-link">
  Python-网络
</a></li><li class="dropdown-item"><!----> <a href="/Python/5. Python-frontend/" class="nav-link">
  Python-前端
</a></li><li class="dropdown-item"><!----> <a href="/Python/6. Python-MySQL/" class="nav-link">
  Python-数据库
</a></li><li class="dropdown-item"><!----> <a href="/Python/7. Python-Django/" class="nav-link">
  Python-Django
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="容器文档" class="dropdown-title"><span class="title">容器文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="容器文档" class="mobile-dropdown-title"><span class="title">容器文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Container/docker/" class="nav-link">
  docker文檔
</a></li><li class="dropdown-item"><!----> <a href="/Container/Kubernetes/" class="nav-link">
  Kubernetes文檔
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GO文档" class="dropdown-title"><span class="title">GO文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="GO文档" class="mobile-dropdown-title"><span class="title">GO文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/GO/basics/" class="nav-link">
  GO快速入门
</a></li><li class="dropdown-item"><!----> <a href="/GO/module/" class="nav-link">
  GO标准库/GO模块
</a></li></ul></div></div><div class="nav-item"><a href="https://www.linux91.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python-Django</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Python/7.%20Python-Django/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/Python/7. Python-Django/68. request相关的属性.html" class="sidebar-link">68. request相关的属性</a></li><li><a href="/Python/7. Python-Django/69. WEB框架的本质.html" class="sidebar-link">69. WEB框架的本质</a></li><li><a href="/Python/7. Python-Django/70. Django框架、基础.html" class="sidebar-link">70. Django框架、基础</a></li><li><a href="/Python/7. Python-Django/71. Django图书馆之出版社的增删改查 - 单表.html" class="sidebar-link">71. Django图书馆之出版社的增删改查 - 单表</a></li><li><a href="/Python/7. Python-Django/72. Django图书馆之书籍的增删改查 - 多表(外键).html" class="sidebar-link">72. Django图书馆之书籍的增删改查 - 多表(外键)</a></li><li><a href="/Python/7. Python-Django/73. Django图书馆之作者的增删改查 - 多对多关系表.html" class="sidebar-link">73. Django图书馆之作者的增删改查 - 多对多关系表</a></li><li><a href="/Python/7. Python-Django/74. Django简单上传文件.html" class="sidebar-link">74. Django简单上传文件</a></li><li><a href="/Python/7. Python-Django/75. Django模板语言之变量.html" class="active sidebar-link">75. Django模板语言之变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#变量的命名" class="sidebar-link">变量的命名</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#变量名中的-优先级" class="sidebar-link">变量名中的 . 优先级</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#实例" class="sidebar-link">实例</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#default-变量是false或者为空-就显示指定的值" class="sidebar-link">default - 变量是false或者为空，就显示指定的值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#增加系统默认选项" class="sidebar-link">增加系统默认选项</a></li></ul></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#add-给变量加参数" class="sidebar-link">add - 给变量加参数</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#length-返回值的长度" class="sidebar-link">length - 返回值的长度</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#filesizeformat-将获得的大小值转换成可读的格式" class="sidebar-link">filesizeformat - 将获得的大小值转换成可读的格式</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#slice-切片" class="sidebar-link">slice - 切片</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#date-时间格式化" class="sidebar-link">date - 时间格式化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#可以在系统中增加配置" class="sidebar-link">可以在系统中增加配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#safe-让django不要转意这个字符串" class="sidebar-link">safe - 让django不要转意这个字符串</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#truncatechars-截断指定长度的字符串-有省略号" class="sidebar-link">truncatechars - 截断指定长度的字符串-有省略号</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#truncatewords-截断指定长度的字符串-无省略号" class="sidebar-link">truncatewords - 截断指定长度的字符串-无省略号</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#cut-移除变量中指定的字符" class="sidebar-link">cut - 移除变量中指定的字符</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#join-字符串连接列表" class="sidebar-link">join - 字符串连接列表</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#timesince-将日期格式设为自该日期起的时间" class="sidebar-link">timesince - 将日期格式设为自该日期起的时间</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#timeuntil-将日期格式设为自该日期起的时间" class="sidebar-link">timeuntil - 将日期格式设为自该日期起的时间</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#divisibleby-整除" class="sidebar-link">divisibleby - 整除</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#first-取第一个元素" class="sidebar-link">first - 取第一个元素</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#last-最后一个元素" class="sidebar-link">last - 最后一个元素</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#lower-转换成小写" class="sidebar-link">lower - 转换成小写</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#upper-转换成大写" class="sidebar-link">upper - 转换成大写</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#title-标题" class="sidebar-link">title - 标题</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#ljust-左对齐" class="sidebar-link">ljust - 左对齐</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#rjust-右对齐" class="sidebar-link">rjust - 右对齐</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#center-居中" class="sidebar-link">center - 居中</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#_1-创建自定义filter代码文件存放目录" class="sidebar-link">1. 创建自定义filter代码文件存放目录</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#_2-创建自定义filter文件" class="sidebar-link">2. 创建自定义filter文件</a></li><li class="sidebar-sub-header"><a href="/Python/7. Python-Django/75. Django模板语言之变量.html#_3-使用自定义filter" class="sidebar-link">3. 使用自定义filter</a></li></ul></li><li><a href="/Python/7. Python-Django/76. Django模板语言之逻辑.html" class="sidebar-link">76. Django模板语言之逻辑</a></li><li><a href="/Python/7. Python-Django/77. Django视图、request方法大全.html" class="sidebar-link">77. Django视图、request方法大全</a></li><li><a href="/Python/7. Python-Django/78. Django路由系统(url).html" class="sidebar-link">78. Django路由系统(url)</a></li><li><a href="/Python/7. Python-Django/79. Django模型(ORM) 认识、字段.html" class="sidebar-link">79. Django模型(ORM) 认识、字段</a></li><li><a href="/Python/7. Python-Django/80. Django模型(ORM) 操作、进阶.html" class="sidebar-link">80. Django模型(ORM) 操作、进阶</a></li><li><a href="/Python/7. Python-Django/81. Django - Cookie、Session、自定义分页.html" class="sidebar-link">81. Django - Cookie、Session、自定义分页</a></li><li><a href="/Python/7. Python-Django/82. Django - 中间件.html" class="sidebar-link">82. Django - 中间件</a></li><li><a href="/Python/7. Python-Django/83. Django - ajax、csrf中间件补充.html" class="sidebar-link">83. Django - ajax、csrf中间件补充</a></li><li><a href="/Python/7. Python-Django/84. Django - Form、ModelForm.html" class="sidebar-link">84. Django - Form、ModelForm</a></li><li><a href="/Python/7. Python-Django/85. Django - auth认证组件.html" class="sidebar-link">85. Django - auth认证组件</a></li><li><a href="/Python/7. Python-Django/86. 权限控制.html" class="sidebar-link">86. 权限控制</a></li><li><a href="/Python/7. Python-Django/87. django小技巧.html" class="sidebar-link">87. django小技巧</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_75-django模板语言之变量"><a href="#_75-django模板语言之变量" class="header-anchor">#</a> 75. Django模板语言之变量</h1> <h1 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h1> <p>在Django的模板语言中按此语法使用： 。</p> <p>当模版引擎遇到一个变量，它将计算这个变量，然后用结果替换掉它本身。</p> <h2 id="变量的命名"><a href="#变量的命名" class="header-anchor">#</a> <strong>变量的命名</strong></h2> <ol><li>包括任何字母数字以及下划线的组合。</li> <li>变量名称中不能有空格或标点符号。</li></ol> <h2 id="变量名中的-优先级"><a href="#变量名中的-优先级" class="header-anchor">#</a> <strong>变量名中的 . 优先级</strong></h2> <p>点 <strong>.</strong> 在模板语言中有特殊的含义。</p> <p>当模版系统遇到点 <strong>.</strong> ，它将以这样的顺序查询：</p> <ol><li>字典查询（Dictionary lookup）</li> <li>属性或方法查询（Attribute or method lookup）</li> <li>数字索引查询（Numeric index lookup）</li></ol> <h2 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h2> <ol><li>如果计算结果的值是可调用的，它将被无参数的调用。 调用的结果将成为模版的值。</li> <li>如果使用的变量不存在， 模版系统将插入 string_if_invalid 选项的值， 它被默认设置为'' (空字符串)</li></ol> <h2 id="实例"><a href="#实例" class="header-anchor">#</a> 实例</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">template_test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>
    d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;alex&quot;</span><span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
            self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

        <span class="token keyword">def</span> <span class="token function">dream</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&quot;{} is dream...&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

    aaa <span class="token operator">=</span> Person<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">34</span><span class="token punctuation">)</span>
    bbb <span class="token operator">=</span> Person<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;bbb&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">9000</span><span class="token punctuation">)</span>
    ccc <span class="token operator">=</span> Person<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;ccc&quot;</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">)</span>

    person_list <span class="token operator">=</span> <span class="token punctuation">[</span>aaa<span class="token punctuation">,</span> bbb<span class="token punctuation">,</span> ccc<span class="token punctuation">]</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">&quot;template_test.html&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;l&quot;</span><span class="token punctuation">:</span> l<span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">:</span> d<span class="token punctuation">,</span> <span class="token string">&quot;person_list&quot;</span><span class="token punctuation">:</span> person_list<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token comment">## 模板中支持的写法</span>

<span class="token punctuation">{</span><span class="token comment"># 取l中的第一个参数 #}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> l<span class="token punctuation">.</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token comment"># 取字典中key的值 #}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> d<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token comment"># 取对象的name属性 #}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> person_list<span class="token punctuation">.</span><span class="token number">0.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token comment"># .操作只能调用不带参数的方法 #}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> person_list<span class="token punctuation">.</span><span class="token number">0.</span>dream <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h1 id="filters-过滤器"><a href="#filters-过滤器" class="header-anchor">#</a> Filters（过滤器）</h1> <p>在Django的模板语言中，通过使用 过滤器 来改变变量的显示。</p> <p>过滤器的语法：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>filter_name<span class="token punctuation">:</span>参数 <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>使用管道符&quot;|&quot;来应用过滤器。</p> <p>例如：以下会将name变量应用lower过滤器之后再显示它的值。lower在这里的作用是将文本全都变成小写。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> name<span class="token operator">|</span>lower <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p><strong>注意事项：</strong></p> <ol><li>过滤器支持“链式”操作。即一个过滤器的输出作为另一个过滤器的输入。</li> <li>过滤器可以接受参数，例如：</li></ol> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> sss<span class="token operator">|</span>truncatewords<span class="token punctuation">:</span><span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>这将显示sss的前30个词，最多只是接收一个参数。
3. 过滤器参数包含空格的话，必须用引号包裹起来。比如使用逗号和空格去连接一个列表中的元素，如：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token builtin">list</span><span class="token operator">|</span>join<span class="token punctuation">:</span><span class="token string">', '</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>'|'左右没有空格没有空格没有空格</li></ol> <p>Django的模板语言中提供了大约六十个内置过滤器，这里只写常用的</p> <h1 id="常用的filters过滤器"><a href="#常用的filters过滤器" class="header-anchor">#</a> <strong>常用的Filters过滤器</strong></h1> <h2 id="default-变量是false或者为空-就显示指定的值"><a href="#default-变量是false或者为空-就显示指定的值" class="header-anchor">#</a> default - 变量是false或者为空，就显示指定的值</h2> <p>如果一个变量是false或者为空，使用给定的默认值。 否则，使用变量的值。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>default<span class="token punctuation">:</span><span class="token string">&quot;nothing&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comment">## 如果value没有传值或者值为空的话就显示nothing</span>
</code></pre></div><h3 id="增加系统默认选项"><a href="#增加系统默认选项" class="header-anchor">#</a> 增加系统默认选项</h3> <p>可以在项目中的settings.py文件中找到TEMPLATES列表中的OPTIONS字典中添加</p> <p>'string_if_invalid':'找不到'，前面的选项名是固定的，后面的字符串，是可自定的</p> <div class="language-python extra-class"><pre class="language-python"><code>TEMPLATES <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.template.backends.django.DjangoTemplates'</span><span class="token punctuation">,</span>
        <span class="token string">'DIRS'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'templates'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token punctuation">,</span>
        <span class="token string">'APP_DIRS'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">'OPTIONS'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'context_processors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">'django.template.context_processors.debug'</span><span class="token punctuation">,</span>
                <span class="token string">'django.template.context_processors.request'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.auth.context_processors.auth'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.messages.context_processors.messages'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">'string_if_invalid'</span><span class="token punctuation">:</span><span class="token string">'找不到'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>**注意：**通过这种方式写法，只支持变量名不存在或为false的情况下才会触发这个选项，这个选项的优先级要高过default</p> <h2 id="add-给变量加参数"><a href="#add-给变量加参数" class="header-anchor">#</a> add - 给变量加参数</h2> <p><strong>给变量加参数</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>add<span class="token punctuation">:</span><span class="token string">&quot;2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	value是数字<span class="token number">4</span>，则输出结果为<span class="token number">6</span>。
<span class="token comment">#}</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> first<span class="token operator">|</span>add<span class="token punctuation">:</span>second <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	如果first是 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">.2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> ，second是 <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ，那输出结果是 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> 。
<span class="token comment">#}</span>
</code></pre></div><h2 id="length-返回值的长度"><a href="#length-返回值的长度" class="header-anchor">#</a> length - 返回值的长度</h2> <p>返回值的长度，作用于字符串和列表。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>length <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
返回value的长度，如 value<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span>的话，就显示<span class="token number">4</span><span class="token punctuation">.</span>
<span class="token comment">#}</span>
</code></pre></div><p>​</p> <h2 id="filesizeformat-将获得的大小值转换成可读的格式"><a href="#filesizeformat-将获得的大小值转换成可读的格式" class="header-anchor">#</a> filesizeformat - 将获得的大小值转换成可读的格式</h2> <p>将值格式化为一个 “人类可读的” 文件尺寸 （例如 '13 KB', '4.1 MB', '102 bytes', 等等）。例如：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>filesizeformat <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment"># 如果 value 是 123456789，输出将会是 117.7 MB。 #}</span>
</code></pre></div><h2 id="slice-切片"><a href="#slice-切片" class="header-anchor">#</a> slice - 切片</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>value<span class="token operator">|</span><span class="token builtin">slice</span><span class="token punctuation">:</span><span class="token string">&quot;2:-1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="date-时间格式化"><a href="#date-时间格式化" class="header-anchor">#</a> date - 时间格式化</h2> <p>将后端传递过来的日期数值格式化</p> <div class="language-python extra-class"><pre class="language-python"><code>now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> now<span class="token operator">|</span>date<span class="token punctuation">:</span><span class="token string">&quot;Y-m-d H:i:s&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>**可用的参数 **</p> <table><thead><tr><th style="text-align:center;">格式化字符</th> <th style="text-align:center;">描述</th> <th style="text-align:center;">示例输出</th></tr></thead> <tbody><tr><td style="text-align:center;">a</td> <td style="text-align:center;"><code>'a.m.'</code>或<code>'p.m.'</code>（请注意，这与PHP的输出略有不同，因为这包括符合Associated Press风格的期间）</td> <td style="text-align:center;"><code>'a.m.'</code></td></tr> <tr><td style="text-align:center;">A</td> <td style="text-align:center;"><code>'AM'</code>或<code>'PM'</code>。</td> <td style="text-align:center;"><code>'AM'</code></td></tr> <tr><td style="text-align:center;">b</td> <td style="text-align:center;">月，文字，3个字母，小写。</td> <td style="text-align:center;"><code>'jan'</code></td></tr> <tr><td style="text-align:center;">B</td> <td style="text-align:center;">未实现。</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">c</td> <td style="text-align:center;">ISO 8601格式。 （注意：与其他格式化程序不同，例如“Z”，“O”或“r”，如果值为naive datetime，则“c”格式化程序不会添加时区偏移量（请参阅<a href="https://docs.python.org/3/library/datetime.html#datetime.tzinfo" target="_blank" rel="noopener noreferrer"><code>datetime.tzinfo</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>） 。</td> <td style="text-align:center;"><code>2008-01-02T10:30:00.000123+02:00</code>或<code>2008-01-02T10:30:00.000123</code>如果datetime是天真的</td></tr> <tr><td style="text-align:center;">d</td> <td style="text-align:center;">月的日子，带前导零的2位数字。</td> <td style="text-align:center;"><code>'01'</code>到<code>'31'</code></td></tr> <tr><td style="text-align:center;">D</td> <td style="text-align:center;">一周中的文字，3个字母。</td> <td style="text-align:center;"><code>“星期五”</code></td></tr> <tr><td style="text-align:center;">e</td> <td style="text-align:center;">时区名称 可能是任何格式，或者可能返回一个空字符串，具体取决于datetime。</td> <td style="text-align:center;"><code>''</code>、<code>'GMT'</code>、<code>'-500'</code>、<code>'US/Eastern'</code>等</td></tr> <tr><td style="text-align:center;">E</td> <td style="text-align:center;">月份，特定地区的替代表示通常用于长日期表示。</td> <td style="text-align:center;"><code>'listopada'</code>（对于波兰语区域，而不是<code>'Listopad'</code>）</td></tr> <tr><td style="text-align:center;">f</td> <td style="text-align:center;">时间，在12小时的小时和分钟内，如果它们为零，则分钟停留。 专有扩展。</td> <td style="text-align:center;"><code>'1'</code>，<code>'1:30'</code></td></tr> <tr><td style="text-align:center;">F</td> <td style="text-align:center;">月，文，长。</td> <td style="text-align:center;"><code>'一月'</code></td></tr> <tr><td style="text-align:center;">g</td> <td style="text-align:center;">小时，12小时格式，无前导零。</td> <td style="text-align:center;"><code>'1'</code>到<code>'12'</code></td></tr> <tr><td style="text-align:center;">G</td> <td style="text-align:center;">小时，24小时格式，无前导零。</td> <td style="text-align:center;"><code>'0'</code>到<code>'23'</code></td></tr> <tr><td style="text-align:center;">h</td> <td style="text-align:center;">小时，12小时格式。</td> <td style="text-align:center;"><code>'01'</code>到<code>'12'</code></td></tr> <tr><td style="text-align:center;">H</td> <td style="text-align:center;">小时，24小时格式。</td> <td style="text-align:center;"><code>'00'</code>到<code>'23'</code></td></tr> <tr><td style="text-align:center;">i</td> <td style="text-align:center;">分钟。</td> <td style="text-align:center;"><code>'00'</code>到<code>'59'</code></td></tr> <tr><td style="text-align:center;">I</td> <td style="text-align:center;">夏令时间，无论是否生效。</td> <td style="text-align:center;"><code>'1'</code>或<code>'0'</code></td></tr> <tr><td style="text-align:center;">j</td> <td style="text-align:center;">没有前导零的月份的日子。</td> <td style="text-align:center;"><code>'1'</code>到<code>'31'</code></td></tr> <tr><td style="text-align:center;">l</td> <td style="text-align:center;">星期几，文字长。</td> <td style="text-align:center;"><code>'星期五'</code></td></tr> <tr><td style="text-align:center;">L</td> <td style="text-align:center;">布尔值是否是一个闰年。</td> <td style="text-align:center;"><code>True</code>或<code>False</code></td></tr> <tr><td style="text-align:center;">m</td> <td style="text-align:center;">月，2位数字带前导零。</td> <td style="text-align:center;"><code>'01'</code>到<code>'12'</code></td></tr> <tr><td style="text-align:center;">M</td> <td style="text-align:center;">月，文字，3个字母。</td> <td style="text-align:center;"><code>“扬”</code></td></tr> <tr><td style="text-align:center;">n</td> <td style="text-align:center;">月无前导零。</td> <td style="text-align:center;"><code>'1'</code>到<code>'12'</code></td></tr> <tr><td style="text-align:center;">N</td> <td style="text-align:center;">美联社风格的月份缩写。 专有扩展。</td> <td style="text-align:center;"><code>'Jan.'</code>，<code>'Feb.'</code>，<code>'March'</code>，<code>'May'</code></td></tr> <tr><td style="text-align:center;">o</td> <td style="text-align:center;">ISO-8601周编号，对应于使用闰年的ISO-8601周数（W）。 对于更常见的年份格式，请参见Y。</td> <td style="text-align:center;"><code>'1999年'</code></td></tr> <tr><td style="text-align:center;">O</td> <td style="text-align:center;">与格林威治时间的差异在几小时内。</td> <td style="text-align:center;"><code>'+0200'</code></td></tr> <tr><td style="text-align:center;">P</td> <td style="text-align:center;">时间为12小时，分钟和'a.m。'/'p.m。'，如果为零，分钟停留，特殊情况下的字符串“午夜”和“中午”。 专有扩展。</td> <td style="text-align:center;"><code>'1 am'</code>，<code>'1:30 pm' / t3&gt;，'midnight'，'noon'，'12：30 pm'/ T10&gt;</code></td></tr> <tr><td style="text-align:center;">r</td> <td style="text-align:center;"><a href="https://tools.ietf.org/html/rfc5322.html" target="_blank" rel="noopener noreferrer"><strong>RFC 5322</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>格式化日期。</td> <td style="text-align:center;"><code>'Thu, 21 Dec 2000 16:01:07 +0200'</code></td></tr> <tr><td style="text-align:center;">s</td> <td style="text-align:center;">秒，带前导零的2位数字。</td> <td style="text-align:center;"><code>'00'</code>到<code>'59'</code></td></tr> <tr><td style="text-align:center;">S</td> <td style="text-align:center;">一个月的英文序数后缀，2个字符。</td> <td style="text-align:center;"><code>'st'</code>，<code>'nd'</code>，<code>'rd'</code>或<code>'th'</code></td></tr> <tr><td style="text-align:center;">t</td> <td style="text-align:center;">给定月份的天数。</td> <td style="text-align:center;"><code>28</code> to <code>31</code></td></tr> <tr><td style="text-align:center;">T</td> <td style="text-align:center;">本机的时区。</td> <td style="text-align:center;"><code>'EST'</code>，<code>'MDT'</code></td></tr> <tr><td style="text-align:center;">u</td> <td style="text-align:center;">微秒。</td> <td style="text-align:center;"><code>000000</code> to <code>999999</code></td></tr> <tr><td style="text-align:center;">U</td> <td style="text-align:center;">自Unix Epoch以来的二分之一（1970年1月1日00:00:00 UTC）。</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">w</td> <td style="text-align:center;">星期几，数字无前导零。</td> <td style="text-align:center;"><code>'0'</code>（星期日）至<code>'6'</code>（星期六）</td></tr> <tr><td style="text-align:center;">W</td> <td style="text-align:center;">ISO-8601周数，周数从星期一开始。</td> <td style="text-align:center;"><code>1</code>，<code>53</code></td></tr> <tr><td style="text-align:center;">y</td> <td style="text-align:center;">年份，2位数字。</td> <td style="text-align:center;"><code>'99'</code></td></tr> <tr><td style="text-align:center;">Y</td> <td style="text-align:center;">年，4位数。</td> <td style="text-align:center;"><code>'1999年'</code></td></tr> <tr><td style="text-align:center;">z</td> <td style="text-align:center;">一年中的日子</td> <td style="text-align:center;"><code>0</code>到<code>365</code></td></tr> <tr><td style="text-align:center;">Z</td> <td style="text-align:center;">时区偏移量，单位为秒。 UTC以西时区的偏移量总是为负数，对于UTC以东时，它们总是为正。</td> <td style="text-align:center;"><code>-43200</code>到<code>43200</code></td></tr></tbody></table> <h3 id="可以在系统中增加配置"><a href="#可以在系统中增加配置" class="header-anchor">#</a> 可以在系统中增加配置</h3> <p>在系统中增加配置，这样就可以不用每次都写date的参数，只需要写date主体就行</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## settings.py文件</span>
USE_L10N <span class="token operator">=</span> <span class="token boolean">False</span>
DATETIME_FORMAT <span class="token operator">=</span> <span class="token string">'Y-m-d H:i:s'</span>
DATE_FORMAT <span class="token operator">=</span> <span class="token string">'Y-m-d'</span>
</code></pre></div><h2 id="safe-让django不要转意这个字符串"><a href="#safe-让django不要转意这个字符串" class="header-anchor">#</a> safe - 让django不要转意这个字符串</h2> <p>Django的模板中会对HTML标签和JS等语法标签进行自动转义，原因显而易见，这样是为了安全。但是有的时候我们可能不希望这些HTML元素被转义，比如我们做一个内容管理系统，后台添加的文章中是经过修饰的，这些修饰可能是通过一个类似于FCKeditor编辑加注了HTML修饰符的文本，如果自动转义的话显示的就是保护HTML标签的源文件。为了在Django中关闭HTML的自动转义有两种方式，如果是一个单独的变量我们可以通过过滤器“|safe”的方式告诉Django这段代码是安全的不必转义。</p> <div class="language-python extra-class"><pre class="language-python"><code>value <span class="token operator">=</span> <span class="token string">&quot;&lt;a href='#'&gt;点我&lt;/a&gt;&quot;</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>safe<span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	让value中的a标签原样的输入在html上，可以在页面上正常使用访问
<span class="token comment">#}</span>
</code></pre></div><h2 id="truncatechars-截断指定长度的字符串-有省略号"><a href="#truncatechars-截断指定长度的字符串-有省略号" class="header-anchor">#</a> truncatechars - 截断指定长度的字符串-有省略号</h2> <p>如果字符串字符多于指定的字符数量，那么会被截断。截断的字符串将以可翻译的省略号序列（“...”）结尾。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>truncatechars<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	参数：截断的字符数
<span class="token comment">#}</span>
</code></pre></div><h2 id="truncatewords-截断指定长度的字符串-无省略号"><a href="#truncatewords-截断指定长度的字符串-无省略号" class="header-anchor">#</a> truncatewords - 截断指定长度的字符串-无省略号</h2> <p>在一定数量的字后截断字符串。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>truncatewords<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	参数：截断的字符数
<span class="token comment">#}</span>
</code></pre></div><h2 id="cut-移除变量中指定的字符"><a href="#cut-移除变量中指定的字符" class="header-anchor">#</a> cut - 移除变量中指定的字符</h2> <p><strong>移除value中所有的与给出的变量相同的字符串</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>cut<span class="token punctuation">:</span><span class="token string">' '</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	移除value中的所有空格
	如果value为<span class="token string">'i love you'</span>，那么将输出<span class="token string">'iloveyou'</span><span class="token punctuation">.</span>
<span class="token comment">#}</span>
</code></pre></div><h2 id="join-字符串连接列表"><a href="#join-字符串连接列表" class="header-anchor">#</a> join - 字符串连接列表</h2> <p>使用字符串连接列表，例如Python的str.join(list)</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>join<span class="token punctuation">:</span><span class="token string">&quot; // &quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="timesince-将日期格式设为自该日期起的时间"><a href="#timesince-将日期格式设为自该日期起的时间" class="header-anchor">#</a> timesince - 将日期格式设为自该日期起的时间</h2> <p><strong>将日期格式设为自该日期起的时间（例如，“4天，6小时”）。</strong></p> <p>采用一个可选参数，它是一个包含用作比较点的日期的变量（不带参数，比较点为现在）。</p> <p>例如，如果blog_date是表示2006年6月1日午夜的日期实例，并且comment_date是2006年6月1日08:00的日期实例，则以下将返回“8小时”：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> blog_date<span class="token operator">|</span>timesince<span class="token punctuation">:</span>comment_date <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	blog_date：是表示<span class="token number">2006</span>年<span class="token number">6</span>月<span class="token number">1</span>日午夜的日期实例
	comment_date：是<span class="token number">2006</span>年<span class="token number">6</span>月<span class="token number">1</span>日<span class="token number">08</span><span class="token punctuation">:</span><span class="token number">00</span>的日期实例
	则以下将返回“<span class="token number">8</span>小时”
	分钟是所使用的最小单位，对于相对于比较点的未来的任何日期，将返回“<span class="token number">0</span>分钟”。
<span class="token comment">#}</span>
</code></pre></div><h2 id="timeuntil-将日期格式设为自该日期起的时间"><a href="#timeuntil-将日期格式设为自该日期起的时间" class="header-anchor">#</a> timeuntil - 将日期格式设为自该日期起的时间</h2> <p>似于timesince，除了它测量从现在开始直到给定日期或日期时间的时间。</p> <p>例如，如果今天是2006年6月1日，而conference_date是保留2006年6月29日的日期实例，则</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> conference_date <span class="token operator">|</span> timeuntil <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>将返回“4周”。</p> <p>使用可选参数，它是一个包含用作比较点的日期（而不是现在）的变量。 如果from_date包含2006年6月22日，则以下内容将返回“1周”：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> conference_date<span class="token operator">|</span>timeuntil<span class="token punctuation">:</span>from_date <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="divisibleby-整除"><a href="#divisibleby-整除" class="header-anchor">#</a> divisibleby - 整除</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>divisibleby<span class="token punctuation">:</span><span class="token string">'2'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">#</span>
	将value值跟指定的数，进行相除
		能整除返回true
		不能整除返回false
<span class="token comment">#}</span>
</code></pre></div><h1 id="其他常用的filters过滤器"><a href="#其他常用的filters过滤器" class="header-anchor">#</a> <strong>其他常用的Filters过滤器</strong></h1> <h2 id="first-取第一个元素"><a href="#first-取第一个元素" class="header-anchor">#</a> first - 取第一个元素</h2> <p>取第一个元素</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>first <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="last-最后一个元素"><a href="#last-最后一个元素" class="header-anchor">#</a> last - 最后一个元素</h2> <p>取最后一个元素</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>last <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="lower-转换成小写"><a href="#lower-转换成小写" class="header-anchor">#</a> lower - 转换成小写</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>lower <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="upper-转换成大写"><a href="#upper-转换成大写" class="header-anchor">#</a> upper - 转换成大写</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>upper<span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="title-标题"><a href="#title-标题" class="header-anchor">#</a> title - 标题</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> value<span class="token operator">|</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="ljust-左对齐"><a href="#ljust-左对齐" class="header-anchor">#</a> ljust - 左对齐</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token string">&quot;{{ value|ljust:&quot;</span><span class="token number">10</span><span class="token string">&quot; }}&quot;</span>
</code></pre></div><h2 id="rjust-右对齐"><a href="#rjust-右对齐" class="header-anchor">#</a> rjust - 右对齐</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token string">&quot;{{ value|rjust:&quot;</span><span class="token number">10</span><span class="token string">&quot; }}&quot;</span>
</code></pre></div><h2 id="center-居中"><a href="#center-居中" class="header-anchor">#</a> center - 居中</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token string">&quot;{{ value|center:&quot;</span><span class="token number">15</span><span class="token string">&quot; }}&quot;</span>
</code></pre></div><h1 id="自定义filter"><a href="#自定义filter" class="header-anchor">#</a> <strong>自定义filter</strong></h1> <h2 id="_1-创建自定义filter代码文件存放目录"><a href="#_1-创建自定义filter代码文件存放目录" class="header-anchor">#</a> 1. 创建自定义filter代码文件存放目录</h2> <p>在子项目目录下创建templatetags目录，注意：</p> <ol><li>在子项目目录下，并不是在主项目目录下</li> <li>创建的目录，名称为：templatetags，是固定的，不能自定义</li> <li>创建的目录，是要Python目录包(package)</li></ol> <h2 id="_2-创建自定义filter文件"><a href="#_2-创建自定义filter文件" class="header-anchor">#</a> 2. 创建自定义filter文件</h2> <p>在刚刚创建好的目录下，可以创建自定义名称的.py文件</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## filter_app.py</span>
<span class="token keyword">from</span> django <span class="token keyword">import</span> template
<span class="token comment">## 固定写法，生成一个注册实例对象</span>
register <span class="token operator">=</span> template<span class="token punctuation">.</span>Library<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment">## 声明这个函数可以当成模板变量使用</span>
<span class="token decorator annotation punctuation">@register<span class="token punctuation">.</span>filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">cut</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    给任意指定的变量添加sb
    :param value: |左边被修饰的那个变量
    :return: 修饰后的变量内容
    &quot;&quot;&quot;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>arg<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>


<span class="token comment">## 声明这个函数可以当成模板变量使用，name参数代表，使用指定的名称调用，如果没写，默认为函数名为调用名称</span>
<span class="token decorator annotation punctuation">@register<span class="token punctuation">.</span>filter</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;addSB&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">def</span> <span class="token function">add_sb</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    给任意指定的变量添加sb
    :param value: |左边被修饰的那个变量
    :return: 修饰后的变量内容
    &quot;&quot;&quot;</span>
    <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token string">'sb'</span>
</code></pre></div><h2 id="_3-使用自定义filter"><a href="#_3-使用自定义filter" class="header-anchor">#</a> 3. 使用自定义filter</h2> <p>在html文件中使用自定义filter，需要先导入这个文件</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">{</span><span class="token comment"># 先导入我们自定义filter那个文件 #}</span>
<span class="token punctuation">{</span><span class="token operator">%</span> load filter_app <span class="token operator">%</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment"># 使用我们自定义的filter #}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> somevariable<span class="token operator">|</span>cut<span class="token punctuation">:</span><span class="token string">&quot;0&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> d<span class="token punctuation">.</span>name<span class="token operator">|</span>addSB <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Python/7. Python-Django/74. Django简单上传文件.html" class="prev">
        74. Django简单上传文件
      </a></span> <span class="next"><a href="/Python/7. Python-Django/76. Django模板语言之逻辑.html">
        76. Django模板语言之逻辑
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d65bef42.js" defer></script><script src="/assets/js/2.2249178e.js" defer></script><script src="/assets/js/148.6d76ac94.js" defer></script>
  </body>
</html>
